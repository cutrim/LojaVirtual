<ui:composition template="./WEB-INF/templates/template.xhtml "
xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<ui:define name="conteudo">
		<div  style="margin: auto; display: table;">
			<p:graphicImage library="imagens" name="iconeLancamentos.png" width="200"/>
		</div>
		<h:form>
			<p:growl id="growl" showDetail="true" sticky="true" />
		    <p:accordionPanel>
		        <p:tab title="Dados da compra">
		            <h:panelGrid columns="2" cellpadding="10">
		                <h:outputLabel value="Pessoa" for="pessoa" />
		   				<p:selectOneMenu id="pessoa" value="#{lancamentosBean.pessoa}" title="Seleciona a pessoa de lançamento">
		   					<f:selectItem itemLabel="Selecione" itemDescription="Selecione um cliente" itemValue=""></f:selectItem>
		   					<f:selectItems value="#{pessoaBean.pessoas}" var="pessoa" itemLabel="#{pessoa.nomeRazao}" itemValue="#{pessoa}"></f:selectItems>
		   				</p:selectOneMenu>
		   				
		   				<h:outputLabel value="Observação" for="observacao" />
		   				<p:inputText id="observacao" value="#{lancamentosBean.lancamento.descricao}" placeholder="Descrição do lançamento" required="true" requiredMessage="Descrição obrigatória"/>
		   				
		   				<h:outputLabel value="Vendedor" for="vendedor" />
		   				<p:selectOneMenu id="vendedor" value="#{lancamentosBean.pessoa}" title="Seleciona a pessoa de lançamento">
		   					<f:selectItem itemLabel="Selecione" itemDescription="Selecione um cliente" itemValue=""></f:selectItem>
		   					<f:selectItems value="#{pessoaBean.pessoas}" var="pessoa" itemLabel="#{pessoa.nomeRazao}" itemValue="#{pessoa}"></f:selectItems>
		   				</p:selectOneMenu>
		   				
		   				<h:outputLabel value="Forma de Pagamento" for="formaPagamento" />
		   				<p:selectOneMenu id="formaPagamento" value="#{vendaBean.formaPagamento}" required="true" requiredMessage="Por favor, informe a forma de pagamento">
		   					<f:selectItem itemLabel="Selecione" itemDescription="Selecione uma opção" itemValue=""></f:selectItem>
		   					<f:selectItems value="#{formaPagamentoBean.formasPagamento}" var="forma" itemLabel="#{forma.descricao}" itemValue="#{forma}"></f:selectItems>
		   				</p:selectOneMenu>
		   				
		            </h:panelGrid>
		        </p:tab>
		        <p:tab title="Selecione os produtos">
		        	<h:form>
		        		<h:outputLabel value="Selecione o produto" for="itemProduto" />
		   				<p:selectOneMenu id="itemProduto" value="#{vendaBean.formaPagamento}" required="true" requiredMessage="Por favor, informe a forma de pagamento">
		   					<f:selectItem itemLabel="Selecione" itemDescription="Selecione uma opção" itemValue=""></f:selectItem>
		   					<f:selectItems value="#{formaPagamentoBean.formasPagamento}" var="forma" itemLabel="#{forma.descricao}" itemValue="#{forma}"></f:selectItems>
		   				</p:selectOneMenu>
		        	
					    <p:dataTable style="margin-top: 20px;" var="venda" value="#{vendaBean.vendas}" rows="10"  emptyMessage="Nenhuma venda cadastrado"
					                         paginator="true"
					                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					                         rowsPerPageTemplate="5,10,15">
					        <f:facet name="header">Vendas</f:facet>
					 
					        <p:column headerText="Código">
					            <h:outputText value="#{venda.codigo}" />
					        </p:column>
					        <p:column headerText="Data da Venda">
					            <h:outputText value="#{venda.data}" />
					        </p:column>
					        
					        <p:column headerText="Cliente">
					            <h:outputText value="#{venda.pessoa.nome}" />
					        </p:column>
					        
					        <p:column headerText="Vendedor">
					            <h:outputText value="#{venda.usuario.nome}" />
					        </p:column>
					        
					        <p:column headerText="Valor">		            
					        </p:column>
					        
					    </p:dataTable>
					    <p:commandButton value="Novo" action="formVendas" />
					</h:form>				
		        </p:tab>
		       
		    </p:accordionPanel>
		    
		    
		    <p:commandButton value="Cadastrar" actionListener="#{lancamentosBean.cadastrar}" update="growl" />
		</h:form>		
	</ui:define>
	</ui:composition>